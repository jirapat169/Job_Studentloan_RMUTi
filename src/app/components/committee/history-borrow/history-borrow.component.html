<b>ประวัติการขอกู้ยืม</b>
<div class="mt-1" *ngIf="history != null">
  <div *ngIf="history.length > 0">
    {{ history[0].title + history[0].fname + " " + history[0].lname }}
  </div>

  <div class="box-padding">
    <div class="mt-3" *ngIf="history.length > 0">
      <table class="table table-bordered table-sm">
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col">ประเภทผู้กู้ยืม</th>
            <th scope="col">ค่าเล่าเรียน</th>
            <th scope="col">ค่าใช้จ่ายรายเดือน</th>
            <th scope="col">ภาคเรียนที่</th>
            <th scope="col">ปีการศึกษา</th>
            <th scope="col">สถานะการกู้ยืม</th>
            <th scope="col">หมายเหตุ</th>
          </tr>
        </thead>
        <tbody *ngIf="history.length > 0">
          <tr *ngFor="let x of history; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ x.type }}</td>
            <td>{{ service.numberWithCommas(x.termMoney) }} บาท</td>
            <td>
              {{
                x.monthMoney == "กู้" ? service.numberWithCommas("14400") : 0
              }}
              บาท
            </td>
            <td>{{ x.term }}</td>
            <td>{{ x.year }}</td>
            <td>
              {{ x.remark == "กำลังจัดเตรียมเอกสาร" ? "รอตรวจสอบ" : x.remark }}
            </td>
            <td>
              {{ x.remark == "ไม่อนุมัติให้กู้ยืม" ? x.remark2 : "-" }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mt-3" *ngIf="history.length > 0">
      <p>รวมค่าเล่าเรียน : {{ service.numberWithCommas(cal().term) }} บาท</p>
      <p>
        รวมค่าใช้จ่ายรายเดือน: {{ service.numberWithCommas(cal().month) }} บาท
      </p>
      <b
        >รวมค่าใช้จ่ายทั้งหมด :
        {{ service.numberWithCommas(cal().month + cal().term) }}</b
      >
    </div>
  </div>
</div>
